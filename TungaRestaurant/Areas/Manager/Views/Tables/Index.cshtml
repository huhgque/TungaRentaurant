@model IEnumerable<TungaRestaurant.Models.Table>

@{
    ViewData["Title"] = "Index";
}

<form asp-action="Index" asp-area="Manager" asp-controller="Tables" method="get">
    <div>
        <div style="text-align:center;display:inline-block">

            <select class="form-control" style="text-align:center" name="branche" onchange="this.form.submit()">

                @foreach (var item in ViewBag.BranchList)
                {
                    @if (ViewBag.Branch == item.Id)
                    {
                        <option value="@item.Id" selected>@item.Name</option>
                    }
                    else
                    {
                        <option value="@item.Id">@item.Name</option>
                    }


                }

            </select>

        </div>
        <div style="text-align:center;display:inline-block">

            <select class="form-control" name="tableType" onchange="this.form.submit()">
                @if (ViewBag.tableType == "ALL")
                {
                    <option selected value="ALL">All</option>
                }
                else
                {
                    <option value="ALL">All</option>
                }


                @if (ViewBag.tableType == TableType.PUBLIC.ToString())
                {
                    <option selected value="@TableType.PUBLIC.ToString()">Public</option>
                }
                else
                {
                    <option value="@TableType.PUBLIC.ToString()">Public</option>
                }


                @if (ViewBag.tableType == TableType.PRIVATE.ToString())
                {
                    <option selected value="@TableType.PRIVATE.ToString()">Private</option>
                }
                else
                {
                    <option value="@TableType.PRIVATE.ToString()">Private</option>
                }


            </select>

        </div>
    </div>
</form>
<div style="text-align: left; width: 100%;  margin:1% 0 1% 0">
    @foreach (var item in Model)
    {
        @if (@item.Type == TableType.PUBLIC)
        {
            <button style="position:relative;text-align: center; display: inline-block; width: 19%; margin: 0 auto 3px 0; background-color: forestgreen; border: 3px solid forestgreen">

                <div style="width: 80%; display: inline-block; padding:15% 0 15% 0; ">@Html.DisplayFor(modelItem => item.Name)</div>
                <div style="position:absolute; top:0; width: 18%; display: inline-block;">@Html.DisplayFor(modelItem => item.NumberOfGuest)</div>
            </button>
        }
        else
        {
            <button style="position: relative;  text-align: center; display: inline-block; width: 19%; margin: 0 auto 3px 0; background-color: forestgreen; border: 3px solid black ">

                <div style="width: 80%; display: inline-block; padding:15% 0 15% 0; ">@Html.DisplayFor(modelItem => item.Name)</div>
                <div style="position: absolute; top: 0;right:2px ;width: 18%; display: inline-block; ">0/@Html.DisplayFor(modelItem => item.NumberOfGuest)</div>
            </button>
        }
    }

</div>  

